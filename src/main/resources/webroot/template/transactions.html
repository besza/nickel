<select ng-model="$ctrl.selectedMonth" ng-change="$ctrl.monthSelected()">
  <option value="">All</option>
  <option ng-repeat="m in $ctrl.months">{{m}}</option>
</select>
<select ng-model="$ctrl.selectedAccount" ng-change="$ctrl.accountSelected()">
  <option value="">All</option>
  <option ng-repeat="a in $ctrl.accounts" value="{{a.id}}">{{a.name}}</option>
</select>

<table class="table">
  <thead>
    <tr>
      <th>Day of transaction</th>
      <th>Source</th>
      <th>Target</th>
      <th>Amount</th>
      <th>Description</th>
      <th>Time of entry</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="t in $ctrl.transactions">
      <td ng-if="t.id != $ctrl.editedId">{{t.on}}</td>
      <td ng-if="t.id == $ctrl.editedId">
        <input ng-model="$ctrl.edited.on" type="date" />
      </td>

      <td ng-if="t.id != $ctrl.editedId">{{t.fromName}}</td>
      <td ng-if="t.id == $ctrl.editedId">
        <select ng-model="$ctrl.edited.from">
          <option ng-repeat="a in $ctrl.accounts" value="{{a.id}}">{{a.name}}</option>
        </select>
      </td>

      <td ng-if="t.id != $ctrl.editedId">{{t.toName}}</td>
      <td ng-if="t.id == $ctrl.editedId">
        <select ng-model="$ctrl.edited.to">
          <option ng-repeat="a in $ctrl.accounts" value="{{a.id}}">{{a.name}}</option>
        </select>
      </td>

      <td ng-if="t.id != $ctrl.editedId">{{t.amount}}</td>
      <td ng-if="t.id == $ctrl.editedId">
        <input ng-model="$ctrl.edited.amount" type="number" step="0.01" placeholder="Amount" />
      </td>

      <td ng-if="t.id != $ctrl.editedId">{{t.description}}</td>
      <td ng-if="t.id == $ctrl.editedId">
        <input ng-model="$ctrl.edited.description" type="text" placeholder="Description" />
      </td>

      <td>{{t.createdAt}}</td>

      <td ng-if="t.id != $ctrl.editedId">
        <button ng-click="$ctrl.editStarted(t)">Edit</button>
      </td>
      <td ng-if="t.id == $ctrl.editedId">
        <button ng-click="$ctrl.editSaved()">Save</button>
      </td>
    </tr>
  </tbody>
</table>
